# 第10天算法题练习

## 1. 二叉搜索树的最近公共祖先 (Medium)

**题目链接**: https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree/

**题目描述**: 
给定一个二叉搜索树, 找到该树中两个指定节点的最近公共祖先。

百度百科中最近公共祖先的定义为："对于有根树 T 的两个结点 p、q，最近公共祖先表示为一个结点 x，满足 x 是 p、q 的祖先且 x 的深度尽可能大（一个节点也可以是它自己的祖先）。"

**示例 1**:
```
输入: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 8
输出: 6 
解释: 节点 2 和节点 8 的最近公共祖先是 6。
```

**解题思路**:
- 利用二叉搜索树的性质：左子树所有节点值小于根节点，右子树所有节点值大于根节点
- 如果p和q的值都小于当前节点值，则在左子树中查找
- 如果p和q的值都大于当前节点值，则在右子树中查找
- 否则当前节点就是最近公共祖先

**关键点**:
- 理解二叉搜索树的性质
- 最近公共祖先的概念
- 递归和迭代两种解法

## 2. 删除二叉搜索树中的节点 (Medium)

**题目链接**: https://leetcode.cn/problems/delete-node-in-a-bst/

**题目描述**: 
给定一个二叉搜索树的根节点 root 和一个值 key，删除二叉搜索树中的 key 对应的节点，并保证二叉搜索树的性质不变。返回二叉搜索树（有可能被更新）的根节点的引用。

**示例**:
```
root = [5,3,6,2,4,null,7]
key = 3

    5
   / \
  3   6
 / \   \
2   4   7

给定需要删除的节点值是 3，所以我们首先找到 3 这个节点，然后删除它。

一个正确的答案是 [5,4,6,2,null,null,7], 如下图所示。

    5
   / \
  4   6
 /     \
2       7
```

**解题思路**:
- 如果要删除的节点没有子节点，直接删除
- 如果要删除的节点只有一个子节点，用子节点替换
- 如果要删除的节点有两个子节点，找到右子树中的最小节点（或左子树中的最大节点）来替换

**关键点**:
- 二叉搜索树的删除操作
- 三种情况的处理
- 递归实现
- 保持BST性质

## 3. 验证二叉搜索树 (Medium)

**题目链接**: https://leetcode.cn/problems/validate-binary-search-tree/

**题目描述**: 
给定一个二叉树，判断其是否是一个有效的二叉搜索树。

假设一个二叉搜索树具有如下特征：
- 节点的左子树只包含小于当前节点的数。
- 节点的右子树只包含大于当前节点的数。
- 所有左子树和右子树自身必须也是二叉搜索树。

**示例 1**:
```
输入:
    2
   / \
  1   3
输出: true
```

**示例 2**:
```
输入:
    5
   / \
  1   4
     / \
    3   6
输出: false
解释: 输入为: [5,1,4,null,null,3,6]。
     根节点的值为 5 ，但是其右子节点值为 4 。
```

**解题思路**:
- 方法1：中序遍历，检查结果是否严格递增
- 方法2：递归检查每个节点是否在有效范围内
- 方法3：使用前驱和后继节点验证

**关键点**:
- 二叉搜索树的性质
- 中序遍历验证
- 递归边界处理
- 范围检查技巧

## 4. 二叉搜索树中的插入操作 (Medium)

**题目链接**: https://leetcode.cn/problems/insert-into-a-binary-search-tree/

**题目描述**: 
给定二叉搜索树（BST）的根节点和要插入树中的值，将值插入二叉搜索树。返回插入后二叉搜索树的根节点。输入数据保证，新值和原始二叉搜索树中的任意节点值都不同。

注意，可能存在多种有效的插入方式，只要树在插入后仍保持为二叉搜索树即可。你可以返回任意有效的结果。

**示例**:
```
给定二叉搜索树:

        4
       / \
      2   7
     / \
    1   3

和 插入的值: 5
你可以返回这个二叉搜索树:

         4
       /   \
      2     7
     / \   /
    1   3 5

或者这个树也是有效的:

         5
       /   \
      2     7
     / \
    1   3
         \
          4
```

**解题思路**:
- 递归方法：根据BST性质决定插入到左子树还是右子树
- 迭代方法：找到合适的插入位置
- 新节点总是作为叶子节点插入

**关键点**:
- 二叉搜索树的插入规则
- 递归和迭代实现
- 保持BST性质
- 边界条件处理

## 解题提示

### 二叉搜索树的性质
1. **左子树**：所有节点值小于根节点值
2. **右子树**：所有节点值大于根节点值
3. **中序遍历**：得到严格递增的序列
4. **递归性质**：每个子树也是BST

### 算法技巧
1. **递归解法**：利用BST的递归性质
2. **迭代解法**：使用栈或直接遍历
3. **范围检查**：维护当前节点的有效范围
4. **前驱后继**：找到合适的替换节点

### 常见错误
1. **边界处理**：空树、单节点树
2. **范围判断**：等号的处理
3. **递归终止**：找到插入位置的条件
4. **节点替换**：删除节点的三种情况

## 学习目标

完成这4道题后，你应该掌握：
- [ ] 二叉搜索树的基本性质和操作
- [ ] 最近公共祖先问题的解法
- [ ] 树的递归遍历和迭代遍历
- [ ] BST的增删改查操作
- [ ] 验证BST的有效性
- [ ] 树的节点操作技巧
